<!DOCTYPE html>
<html lang="en">
<head>
  <title>Generate Report</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>
<body>

<nav class="navbar navbar-inverse">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="#">Sport Scan</a>
    </div>
    <ul class="nav navbar-nav">
      <li><a href="/">Home</a></li>
      <li class="active"><a href="/Report">Reports</a></li>
      <li><a href="/NewEntry">New Entry</a></li>
    </ul>
  </div>
</nav>
  
<div class="container">
  <h1>Generate Report</h1>
  
  <div style="text-align: center;">

    <form onsubmit="reqReport()">
      <h1>Enter The Date </h1> <br>
            <p>Date of Entry:  <input id="dateField" type="date"> </p> <br> <br>
        <input type="submit">
    </form>


    <!-- <h1>Enter The Date </h1> <br>
    <p>Date of Entry:  <input id="dateField" type="date"> </p> <br> <br>
    <button id="submitBtn" onclick="reqReport()">Submit</button> -->
  </div>


</div>


</body>


<script>

  function reqReport(){
      var data = JSON.stringify({
                "date": document.getElementById('dateField').value
            });
    
            alert(data)
    
            var url = "http://localhost:5000"
            var endpoint = "/GetReport"
            var replyObj
    
            var http = new XMLHttpRequest();
    
            http.open("POST", url + endpoint);
            http.setRequestHeader('Content-Type', 'application/json; charset=UTF-8');
    
            http.onreadystatechange = function () {
                var DONE = 4;       // 4 means that the request is done
                var OK = 200;       // 200 means a successful return
    
                if (http.readyState == DONE && http.status == OK && http.responseText) {
                    // JSON string
                    replyString = http.responseText;
                    alert(replyString)
                    element.value = replyString 
                }
            }
            http.send(data);
    
    }
  
  </script>
</html>

